{% extends 'base.html.twig' %}

{% block title %}Accueil - NetflixClone{% endblock %}

{% block body %}
    <style>
        .netflix-container {
            padding: 20px;
            background-color: #141414;
            color: white;
            min-height: 100vh;
        }
        .movie-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .movie-card {
            background-color: #222;
            border-radius: 4px;
            overflow: hidden;
            transition: transform 0.3s;
            /* On s'assure que le lien s'affiche en bloc */
            display: block;
        }
        .movie-card:hover {
            transform: scale(1.05);
            cursor: pointer;
        }
        .movie-poster {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }
        .movie-info {
            padding: 10px;
        }
        .movie-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
    </style>

    <div class="netflix-container">
        <h1>Films et Séries du moment</h1>

        <div class="movie-grid">
            {% for movie in movies %}
                {# ICI : On a transformé la DIV en lien A vers la page de détail #}
                <a href="{{ path('app_movie_show', {id: movie.id}) }}" class="movie-card" style="text-decoration: none; color: white;">
                    <img src="{{ movie.coverImage }}" alt="{{ movie.titre }}" class="movie-poster">
                    <div class="movie-info">
                        <div class="movie-title">{{ movie.titre }}</div>
                        <span style="color: #e50914; font-weight: bold; font-size: 0.8em;">
                        {{ movie.isSeries ? 'SÉRIE' : 'FILM' }}
                    </span>
                    </div>
                </a>
            {% else %}
                <p>Aucun film trouvé.</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}
